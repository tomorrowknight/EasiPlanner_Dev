function clarkeRoute(h,d,l){if(null==h||null==d||1>=d.length)return[];for(var g=[],e=0;e<d.length;e++)for(j=e+1;j<d.length;j++){var a=d.at(e).distance(h)+d.at(j).distance(h)-d.at(e).distance(d.at(j));g.push({x:e,y:j,distance:a})}g.sort(function(b,a){return a.distance-b.distance});var k=[];for(h=[];k.length!=d.length;){var c=l.shift();l.push(c);var f=[];c.left_volume=c.get("capacity_volume");c.left_weight=c.get("capacity_weight");for(e=0;e<g.length;e++){var a=function(a,h){var g=d.at(a);0<=k.indexOf(a)||
c.left_volume<g.get("volume")||c.left_weight<g.get("weight")||(h?f.push(a):f.unshift(a),c.left_volume-=g.get("volume"),c.left_weight-=g.get("weight"),b.distance=0,k.push(a),e=-1)},b=g[e];0!=b.distance&&(0==f.length?-1==k.indexOf(b.y)&&-1==k.indexOf(b.x)&&(a(b.x,!0),a(b.y,!0)):b.x==f[0]?a(b.y,!1):b.y==f[0]?a(b.x,!1):b.x==f[f.length-1]?a(b.y,!0):b.y==f[f.length-1]&&a(b.x,!0))}if(0==f.length)break;a={vehicle:c,indexs:f};a.parcels=_.map(a.indexs,function(a){return d.at(a)});h.push(a)}return h};